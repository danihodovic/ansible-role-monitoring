---
- name: Converge
  hosts: localhost
  tasks:
    - name: Create network
      include_role:
        name: ansible-role-prometheus
        tasks_from: docker_network.yml

    - name: Deploy Prometheus
      include_role:
        name: ansible-role-prometheus
        tasks_from: prometheus.yml

    - name: Deploy Alertmanager
      include_role:
        name: ansible-role-prometheus
        tasks_from: alertmanager.yml

    - name: Deploy Grafana
      include_role:
        name: ansible-role-prometheus
        tasks_from: grafana.yml

    - name: Deploy Blackbox
      include_role:
        name: ansible-role-prometheus
        tasks_from: blackbox_exporter.yml
